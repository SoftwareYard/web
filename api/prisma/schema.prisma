generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model AdminUser {
  id        String   @id @default(cuid())
  username  String   @unique
  password  String
  name      String
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@map("admin_users")
}

model TeamMember {
  id        String   @id @default(cuid())
  name      String
  role      String
  image     String   @default("")
  bio       String   @default("")
  email     String?
  linkedin  String?
  twitter   String?
  github    String?
  sortOrder Int      @default(0) @map("sort_order")
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@map("team_members")
}

model Job {
  id               String   @id @default(cuid())
  slug             String   @unique
  title            String
  department       String
  location         String
  type             String
  description      String
  requirements     String[]
  responsibilities String[]
  benefits         String[]
  postedDate       DateTime @map("posted_date")
  isActive         Boolean  @default(true) @map("is_active")
  createdAt        DateTime @default(now()) @map("created_at")
  updatedAt        DateTime @updatedAt @map("updated_at")

  @@map("jobs")
}

model CandidateRole {
  id   String @id @default(cuid())
  name String @unique

  jobApplications JobApplication[]

  @@map("candidate_roles")
}

model JobApplication {
  id                  String    @id @default(cuid())
  fullName            String    @map("full_name")
  phone               String
  email               String
  grossSalary         Int       @map("gross_salary")
  salaryGrossEur      Int       @map("salary_gross_eur")
  salaryGrossMkd      Int       @map("salary_gross_mkd")
  salaryNetEur        Int       @map("salary_net_eur")
  salaryNetMkd        Int       @map("salary_net_mkd")
  roleId              String?   @map("role_id")
  role                CandidateRole? @relation(fields: [roleId], references: [id])
  jobTitle            String    @map("job_title")
  cvLink              String    @map("cv_link")
  taskLink            String?   @map("task_link")
  hrInterviewTime     DateTime? @map("hr_interview_time")
  firstInterviewTime  DateTime? @map("first_interview_time")
  secondInterviewTime DateTime? @map("second_interview_time")
  hrNotes             String?   @map("hr_notes")
  techNotes           String?   @map("tech_notes")
  createdAt           DateTime  @default(now()) @map("created_at")
  updatedAt           DateTime  @updatedAt @map("updated_at")

  @@map("job_applications")
}
